.poem{
  height: 100%;
  padding: calc(12px * var(--ui));
  color: rgba(255,255,255,0.92);

  display: grid;
  grid-template-rows: auto auto auto 1fr;
  gap: calc(8px * var(--ui));
  min-height: 0;
}

/* ===== top bar ===== */
.poem__top{
  padding-top: calc(6px * var(--ui));

  display: grid;
  grid-template-columns: calc(32px * var(--ui)) 1fr auto;
  align-items: center;
  gap: calc(8px * var(--ui));
}

.poem__back{
  width: calc(32px * var(--ui));
  height: calc(32px * var(--ui));
  border-radius: calc(10px * var(--ui));
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.08);
  color: inherit;
}

.poem__ghost{
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  color: inherit;
  border-radius: calc(12px * var(--ui));
  padding: calc(7px * var(--ui)) calc(10px * var(--ui));
  font-size: calc(12px * var(--ui));
	font-family: var(--font-mono, "Source Code Pro");
  opacity: 0.9;
}

.poem__title{
  text-align: center;
  font-weight: 700;
  letter-spacing: 0.1em;
  font-size: calc(14px * var(--ui));
	font-family: var(--font-mono, "Source Code Pro");
}

/* ===== pick area ===== */
.poem__pickArea{
  display: grid;
  gap: calc(10px * var(--ui));
  max-height: none;
  overflow: visible;
}

.poem__section{
  display: grid;
  gap: calc(6px * var(--ui));
}

.poem__q{
  font-size: calc(12px * var(--ui));
	font-family: var(--font-mono, "Source Code Pro");
  opacity: 0.78;
  letter-spacing: 0.01em;
  padding-left: calc(2px * var(--ui));
}

/* ===== Carousel ===== */
.carousel{
  display: grid;
  grid-template-columns: 1fr;
  align-items: center;
}

.carousel__nav{
  display: none;
}

.carousel__track{
  display: flex;
  gap: calc(6px * var(--ui));
  overflow-x: auto;

  padding: 0;

  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  scrollbar-width: none;
}
.carousel__track::-webkit-scrollbar{ display:none; }

.carousel__item{
  flex: 0 0 calc((100% - (calc(6px * var(--ui)) * 4)) / 5);

  scroll-snap-align: center;
  scroll-snap-stop: always;

  border: 1px solid rgba(255,255,255,0.14);
  background-color: rgba(255,255,255,0.06); /* ✅ background → background-color */
  color: inherit;

  border-radius: calc(16px * var(--ui));
  padding: calc(10px * var(--ui)) calc(6px * var(--ui));

  display: grid;
  justify-items: center;
  gap: calc(2px * var(--ui));

  cursor: pointer;

  transition-property: background-color, border-color, transform;
  transition-duration: 160ms, 160ms, 160ms;
  transition-timing-function: ease, ease, ease;
}

.carousel__item--active{
  background-color: rgba(255,255,255,0.14); /* ✅ background → background-color */
  border-color: rgba(255,255,255,0.22);

  transform: translateY(-1px) scale(1.02);
}

.carousel__emoji{
  font-size: calc(20px * var(--ui));
  line-height: 1;
}

.carousel__text{
  display: none;
}

/* ===== Actions ===== */
.poem__actions{
  display: grid;
}

.poem__btn{
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.10);
  color: inherit;
	font-family: var(--font-mono, "Source Code Pro");
  border-radius: calc(12px * var(--ui));
  padding: calc(6px * var(--ui)) calc(10px * var(--ui));
  font-size: calc(11px * var(--ui));
  line-height: 1.1;

  cursor: pointer;
}

.poem__btn:disabled{
  opacity: 0.4;
  cursor: not-allowed;
}

/* ===== Result memo card ===== */
.poem__result{
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.18);
  border-radius: calc(18px * var(--ui));

  padding: calc(16px * var(--ui));

  min-height: 0;
  overflow: auto;
  box-shadow: 0 14px 26px rgba(0,0,0,0.28);
}

.poem__error{
  font-size: calc(12px * var(--ui));
  opacity: 0.75;
  margin-bottom: calc(8px * var(--ui));
	font-family: var(--font-mono, "Source Code Pro");
}

.poem__pre{
  margin: 0;
  white-space: pre-wrap;
	font-family: var(--font-mono, "Source Code Pro");
  line-height: 1.4;
  font-size: calc(12.5px * var(--ui));
	letter-spacing: -0.5px;
}

.poem__hint{
  opacity: 0.65;
  font-size: calc(12px * var(--ui));
	font-family: var(--font-mono, "Source Code Pro");
}
